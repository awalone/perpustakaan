 
<?php


    class Login_model extends CI_Model {
    
	function __construct() {
	    parent::__construct();
	}
	
	var $table = 'tbl_user';
	
	
	function get_data_by_username($username, $password, $arg) {
	    
	    $password = md5($password);
	    
	    
	    $query = $this->db->get_where($this->table, array('username'=>$username, 'password'=>$password),1, 0);
	    
	    if ($arg == "jumlah") {
	      
		  if ($query->num_rows() > 0)
		  {
		    return TRUE;
		  }
		  else
		  {
		    return FALSE;
		  }
	    }
	    else
	    {
	    
		 return $query->row();
	    
	    }
	    
	    
	}
	
	#fungsi untuk menambahkan data user baru
	function add($data)
		{
			if ($this->db->insert($this->table, $data)) {
				return TRUE;				
				}	
				else {
				return FALSE;					
					}
		}
	
	
	#fungsi untuk menampilkan data user
	function get_all()
		{
			
			return $this->db->get($this->table);
		}
		
		
		#fungsi untuk menampilkan jumlah data user
		function get_all_data()
		{
			return $this->db->count_all($this->table);
		}
		
		
		#fungsi untuk menampilkan data user berdasarkan id_user
	function get_data_by_id($id=NULL)
		{
			return $this->db->get_where($this->table, array('id_user' => $id), 1)->row();
		}
		
		#fungsi untuk menampilkan jumlah data user berdasarkan id user
		function get_all_data_by_id($id) {
				$query = $this->db->get_where($this->table, array('id_user'=>$id);
				return $query->num_rows();
			}
		
		function update($id, $data)
		{
			$this->db->where('id_user', $id);
			if ($this->db->update($this->table, $data))
			{
				return TRUE;				
				}
			else {
				return FALSE;				
				}
			
		}
    
    }